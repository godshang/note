(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{526:function(e,a,t){"use strict";t.r(a);var r=t(27),s=Object(r.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"skywalking-调试环境搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#skywalking-调试环境搭建"}},[e._v("#")]),e._v(" Skywalking 调试环境搭建")]),e._v(" "),a("h2",{attrs:{id:"skywalking工程构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#skywalking工程构建"}},[e._v("#")]),e._v(" SKywalking工程构建")]),e._v(" "),a("p",[e._v("参考"),a("a",{attrs:{href:"https://github.com/apache/skywalking/blob/master/docs/en/guides/How-to-build.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("文档"),a("OutboundLink")],1),e._v("拉取代码并编译工程。")]),e._v(" "),a("ol",[a("li",[e._v("安装"),a("code",[e._v("Jdk8+")]),e._v("与"),a("code",[e._v("maven 3.6+")])]),e._v(" "),a("li",[e._v("源码拉取。注意，一定通过submodule的方式，直接通过"),a("code",[e._v("git clone")]),e._v("拉取之后是无法编译的。关于submobule，可以参考"),a("a",{attrs:{href:"https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E5%AD%90%E6%A8%A1%E5%9D%97",target:"_blank",rel:"noopener noreferrer"}},[e._v("文档"),a("OutboundLink")],1)])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("git clone --recurse-submodules https://github.com/apache/skywalking.git\ncd skywalking/\n\nOR\n\ngit clone https://github.com/apache/skywalking.git\ncd skywalking/\ngit submodule init\ngit submodule update\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[e._v("执行"),a("code",[e._v("mvn clean package -Dmaven.test.skip")])]),e._v(" "),a("li",[e._v("所有编译后的包在"),a("code",[e._v("/dist")]),e._v("目录下。")])]),e._v(" "),a("p",[e._v("Skywalking工程比较复杂有很多模块，编译一次耗时会比较就，如果只是想编译一部分工程，可以使用如下选项：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("mvn package -Pbackend,dist\n")])])]),a("p",[e._v("或")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("make build.backend\n")])])]),a("p",[e._v("如果开发阶段想仅编译单独一个插件的话，可以：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cd plugin_module_dir & mvn clean package\n")])])]),a("p",[e._v("如果想编译UI部分，可以：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("mvn package -Pui,dist\n")])])]),a("p",[e._v("或")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("make build.ui\n")])])]),a("h3",{attrs:{id:"设置intelij-idea"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置intelij-idea"}},[e._v("#")]),e._v(" 设置InteliJ IDEA")]),e._v(" "),a("ol",[a("li",[e._v("将工程作为maven项目导入")]),e._v(" "),a("li",[e._v("执行"),a("code",[e._v("compile -Dmaven.test.skip=true")]),e._v("编译工程并生成源码（使用了gRPC和protobuf，该部分需要编译后才会产生代码）")]),e._v(" "),a("li",[e._v("将一下目录设置为IDEA的源码目录：\n"),a("ul",[a("li",[a("code",[e._v("grpc-java")]),e._v(" and "),a("code",[e._v("java")]),e._v(" folders in apm-protocol/apm-network/target/generated-sources/protobuf")]),e._v(" "),a("li",[a("code",[e._v("grpc-java")]),e._v(" and "),a("code",[e._v("java")]),e._v(" folders in oap-server/server-core/target/generated-sources/protobuf")]),e._v(" "),a("li",[a("code",[e._v("grpc-java")]),e._v(" and "),a("code",[e._v("java")]),e._v(" folders in oap-server/server-receiver-plugin/receiver-proto/target/generated-sources/fbs")]),e._v(" "),a("li",[a("code",[e._v("grpc-java")]),e._v(" and "),a("code",[e._v("java")]),e._v(" folders in oap-server/server-receiver-plugin/receiver-proto/target/generated-sources/protobuf")]),e._v(" "),a("li",[a("code",[e._v("grpc-java")]),e._v(" and "),a("code",[e._v("java")]),e._v(" folders in oap-server/exporter/target/generated-sources/protobuf")]),e._v(" "),a("li",[a("code",[e._v("grpc-java")]),e._v(" and "),a("code",[e._v("java")]),e._v(" folders in oap-server/server-configuration/grpc-configuration-sync/target/generated-sources/protobuf")]),e._v(" "),a("li",[a("code",[e._v("grpc-java")]),e._v(" and "),a("code",[e._v("java")]),e._v(" folders in oap-server/server-alarm-plugin/target/generated-sources/protobuf")]),e._v(" "),a("li",[a("code",[e._v("antlr4")]),e._v(" folder in oap-server/oal-grammar/target/generated-sources")])])])]),e._v(" "),a("h2",{attrs:{id:"skywalking-java工程构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#skywalking-java工程构建"}},[e._v("#")]),e._v(" skywalking-java工程构建")]),e._v(" "),a("p",[e._v("skywalking在")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("mvnw.cmd clean package -Dmaven.test.skip=true -Pall\n")])])])])}),[],!1,null,null,null);a.default=s.exports}}]);